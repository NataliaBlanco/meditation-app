{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["'use strict';\n\nconst song = document.querySelector('.js-song');\nconst play = document.querySelector('.js-play');\nconst replay = document.querySelector('.js-replay');\nconst outline = document.querySelector('.js-outline');\nconst video = document.querySelector('.js-video');\nconst soundBtn = document.querySelectorAll('.js-snd-btn');\nconst timer = document.querySelector('.js-timer');\nconst timeSelect = document.querySelectorAll('.js-time_select_button');\n\nconst outlineLength = outline.getTotalLength();\nconsole.log(outlineLength);\nlet fakeDuration = 600;\n\noutline.style.strokeDashoffset = outlineLength;\noutline.style.strokeDasharray = outlineLength;\ntimer.textContent = `${Math.floor(fakeDuration / 60)}:${Math.floor(\n  fakeDuration % 60\n)}`;\n\n//functions\n\nfunction checkPlay(song) {\n  if (song.paused) {\n    song.play();\n    video.play();\n    play.src = './assets/images/pause.svg';\n    play.classList.add('transparent');\n  } else {\n    song.pause();\n    video.pause();\n    play.src = './assets/images/play.svg';\n    play.classList.add('transparent');\n  }\n}\n\nsong.ontimeupdate = function () {\n  let currentTime = song.currentTime;\n  let elapsed = fakeDuration - currentTime;\n  let seconds = Math.floor(elapsed % 60);\n  let minutes = Math.floor(elapsed / 60);\n  let progress = outlineLength - (currentTime / fakeDuration) * outlineLength;\n  outline.style.strokeDashoffset = progress;\n  timer.textContent = `${minutes}:${seconds}`;\n  if (currentTime >= fakeDuration) {\n    song.pause();\n    video.pause();\n    song.currentTime = 0;\n    play.src = './assets/images/play.svg';\n  }\n};\n\nfunction reStartSong(song) {\n  let currentTime = song.currentTime;\n  currentTime = 0;\n  console.log('hola');\n}\n\n//events\nplay.addEventListener('click', () => {\n  checkPlay(song);\n});\nreplay.addEventListener('click', reStartSong);\n\n// acción de seleccionar lluvia o playa\nsoundBtn.forEach((sound) => {\n  sound.addEventListener('click', function () {\n    song.src = this.getAttribute('data-sound');\n    video.src = this.getAttribute('data-video');\n    checkPlay(song);\n  });\n});\n\n// acción de seleccionar el tiempo\ntimeSelect.forEach((button) => {\n  button.addEventListener('click', function () {\n    fakeDuration = this.getAttribute('data-time');\n    timer.textContent = `${Math.floor(fakeDuration / 60)}:${Math.floor(\n      fakeDuration % 60\n    )}`;\n  });\n});\n"]}